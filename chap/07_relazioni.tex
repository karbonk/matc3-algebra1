% (c) 2012 Tiziana Manca - tmanca@libero.it
% (c) 2012 - 2014 Dimitrios Vrettos - d.vrettos@gmail.com

\chapter{Relazioni}
%===================================
\section{Proposizioni e predicati}
In matematica frasi come ``19 è maggiore di~5'' o ``Giove ruota intorno alla Terra'' sono considerate \emph{proposizioni} perché ad esse
si può attribuire un preciso valore di verità, cioè si può stabilire se sono vere oppure false: la prima è una proposizione vera, la seconda è falsa.

Non sono proposizioni in senso matematico ``Cosa stai studiando?'', ``domani pioverà!'', ``$x$ è un numero primo'':
infatti la prima non è un'affermazione ma pone una domanda, la seconda è una esclamazione e quindi non possiamo stabilire se è vera o falsa;
l'ultima contiene un elemento indeterminato e finché non si fissa il valore da attribuire a~$x$, non si può decidere se la frase che lo riguarda è vera o falsa.

Ogni proposizione è formata da un \emph{predicato} (verbo) e dai suoi \emph{argomenti} (cose o persone alle quali il verbo si riferisce).

Analizzando le proposizioni sopra enunciate si ha:
\begin{center}
\begin{tabular}{llc}
\toprule
Soggetto & Predicato & Complemento \\
\midrule
19 & è maggiore di & 5 \\
Giove & ruota attorno alla & Terra \\
\bottomrule
\end{tabular}
\end{center}
Il soggetto e il complemento sono gli argomenti ai quali il predicato si riferisce.
In alcune proposizioni il predicato si riferisce a due argomenti (il \emph{soggetto} e il \emph{complemento})
in altre ad un solo argomento: ad esempio, il predicato ``essere numero primo'' stabilisce semplicemente una caratteristica del numero~5
senza porre alcuna connessione con un altro argomento.

\begin{definizione}\label{def:predicato_binario}
Si dice \emph{predicato binario} un predicato che si riferisce a due argomenti.
\end{definizione}

\ovalbox{\risolvi \ref{ese:7.1}}

\section{Relazioni in un insieme}

Il termine \emph{relazione} entra molto spesso in frasi del linguaggio naturale, lo usiamo per esprimere un generico legame tra due persone o tra due oggetti,
anche senza specificarne la natura: ``si è conclusa la relazione tra Anna e Paolo'', ``l'allungamento di una sbarretta di ferro è in relazione con il calore fornito'',
``la frana del terreno è in relazione con il disboscamento della zona e l'abusivismo edilizio'', ``domani consegnerò la relazione di fisica''.
Sono tutte espressioni che ci danno informazioni di un qualche collegamento tra gli
argomenti (persone, cose) ai quali il termine relazione si riferisce.

Dal punto di vista matematico diamo la seguente definizione.
\begin{definizione}
Si dice \emph{relazione} in un insieme~$A$ un predicato binario che lega due elementi dell'insieme.
\end{definizione}

\begin{exrig}
 \begin{esempio}
 Nell'insieme~$A = \{3\text{,~}5\text{,~}6\text{,~}9\text{,~}30\}$ è introdotto il predicato binario ``essere multiplo di''; con esso formiamo le proposizioni vere scegliendo soggetto e
 complemento nell'insieme~$A$:

\begin{multicols}{3}
30 è multiplo di~6;

9 è multiplo di~3;

%30 è multiplo di~3;

%6 è multiplo di~3;

30 è multiplo di~5;

3 è multiplo di~3;

%5 è multiplo di~5;

%6 è multiplo di~6;

9 è multiplo di~9;

\ldots
\end{multicols}
Il predicato ``essere multiplo'' genera nell'insieme~$A$ una relazione matematica. Esso non è il
solo che permette di collegare tra loro due elementi di quell'insieme.
\end{esempio}
\end{exrig}

\ovalbox{\risolvi \ref{ese:7.2}}\vspazio

Se chiamiamo con~$\Rel$ il predicato binario che definisce la relazione introdotta nell'insieme, per indicare 
sinteticamente la proposizione avente come soggetto~$a$, come complemento~$b$ e come predicato~$\Rel$, scriviamo~$a \,\Rel\, b$ e
diremo che~\emph{$a$ è in relazione con~$b$}.

\begin{exrig}
 \begin{esempio}

Con riferimento all'esempio precedente si ha:~$A = \{3\text{,~}5\text{,~}6\text{,~}9\text{,~}30\}$ e $\Rel$:
``essere multiplo di''. Allora scriviamo: per qualunque~$a$ e~$b$ appartenenti ad~$A$,
$a \,\Rel\, b$ se e solo se~$a$ è multiplo di~$b$, in simboli: $\forall a,b \in A \Leftrightarrow a \text{ è multiplo di } b$
\[30 \,\Rel\,~6;\quad~9 \,\Rel\,~3;\quad~30 \,\Rel\,~3;\quad~6 \,\Rel\,~3;\quad~30 \,\Rel\,~5;\quad~3 \,\Rel\,~3;\quad 5 \,\Rel\,~5;\quad~6 \,\Rel\,~6;\quad~9 \,\Rel\,~9;\quad~30 \,\Rel\,~30.\]

Abbiamo così formato un insieme di coppie ordinate di elementi tra loro in relazione:~$30 \,\Rel\,~5$ può anche essere indicata con la coppia ordinata~$(30;5)$.
\end{esempio}
\end{exrig}

\begin{definizione}
Chiamiamo \emph{insieme della relazione} $G_\Rel$ l'insieme delle coppie ordinate i cui
elementi sono gli argomenti del predicato binario, ossia sono in relazione tra di loro. Esso risulta essere un
sottoinsieme del prodotto cartesiano dell'insieme~$A$ con se stesso. Si rappresenta per proprietà caratteristica nel
seguente modo~$G_\Rel = \{(a;b) \in A \times A \mid  a \,\Rel\, b \}$.
\end{definizione}

\ovalbox{\risolvii \ref{ese:7.3}, \ref{ese:7.4}, \ref{ese:7.5}, \ref{ese:7.6}}
%===================================
\subsection{Grafico di una relazione}

Dal momento che una relazione in un insieme~$Y$ determina un sottoinsieme del prodotto cartesiano~$Y \times Y$, è
comodo rappresentare una relazione nello stesso diagramma usato per rappresentare il prodotto cartesiano.
Una relazione può quindi essere rappresentata attraverso un \emph{grafico cartesiano}.

\ovalbox{\risolvii \ref{ese:7.7}, \ref{ese:7.8}}

%===================================
\subsection{Matrice o tabella di una relazione}

Nella figura~\ref{fig:7.1} è rappresentata la classica griglia per il gioco della battaglia navale.
Ogni cella è individuata da una coppia ordinata il cui primo elemento (una lettera dell'alfabeto) indica la riga,
il secondo (un numero) indica la colonna; così la coppia~$(D;5)$ indica la cella annerita.

\ovalbox{\risolvii \ref{ese:7.9}, \ref{ese:7.10}, \ref{ese:7.11}}

%===================================
\subsection{Grafo di una relazione}

\begin{definizione}
Un \emph{grafo} è un insieme di punti, detti \emph{nodi}, e di archi che uniscono coppie di punti.
\end{definizione}

%Abbiamo visto che con un predicato si possono formare alcune proposizioni aventi rispettivamente come soggetto e
%come complemento elementi di un insieme: solo le proposizioni vere determinano la relazione tra gli elementi di
%quell'insieme e generano coppie di elementi in relazione.

\begin{exrig}
 \begin{esempio}

Nel diagramma di Eulero-Venn di figura~\ref{fig:7.2}, relativo all'insieme~$A = \{$3, 5, 6, 9, 30$\}$
rappresentiamo la relazione~$\Rel$ = ``essere multiplo di'' collegando, mediante una freccia, gli argomenti delle proposizione vere.

Come puoi osservare, l'elemento~30 è collegato con una freccia all'elemento~6 in quanto la proposizione ``30 è multiplo di~6'' è vera, ma non all'elemento~9
poiché la proposizione ``30 è multiplo di~9'' è falsa; inoltre la punta della freccia è sul numero~6 in quanto complemento del predicato ``essere multiplo di'' (si parla in tal caso di \emph{grafo orientato});
infine su ciascun elemento abbiamo messo un ``anello'' o ``cappio'' per indicare che ogni elemento è in relazione con se stesso visto che per ogni
elemento~$a \in A$ la proposizione ``$a$ è multiplo di~$a$'' risulta vera.

 \end{esempio}
\end{exrig}

\ovalbox{\risolvii \ref{ese:7.12}, \ref{ese:7.13}, \ref{ese:7.14}, \ref{ese:7.15}, \ref{ese:7.16}, \ref{ese:7.17}}
\begin{figure}[hb]
\begin{minipage}[t]{.45\textwidth}
 \centering
 \input{./lbr/chap07/fig001_mat.pgf}
 \caption{Griglia della battaglia navale.}\label{fig:7.1}
\end{minipage}\hfil
\begin{minipage}[t]{.45\textwidth}
 \centering
 \input{./lbr/chap07/fig002_rel.pgf}
 \caption{L'insieme~$A$.}\label{fig:7.2}
\end{minipage}
\end{figure}

\pagebreak
\section{Proprietà delle relazioni}
%===================================
\subsection{Proprietà riflessiva}

\begin{exrig}
 \begin{esempio}

Nell'insieme~$T = \{\text{4, 7, 8, 12, 35, 100}\}$ è introdotta la relazione~$\Rel$: ``essere divisore di''.
Puoi verificare che ogni numero è divisore di se stesso, cioè ogni elemento dell'insieme è in relazione
con se stesso. Una relazione di questo tipo si dice che gode della \emph{proprietà riflessiva}.
Osserva, però, che nell'insieme ~$\insN$ dei numeri naturali la relazione ``essere divisibile per'' non è riflessiva poiché zero non è divisibile per se stesso.
 \end{esempio}
\end{exrig}

\begin{definizione}
Una relazione~$\Rel$ in un insieme~$A$ gode della \emph{proprietà riflessiva} quando ogni elemento è in relazione con se stesso, ossia per qualunque~$x$ dell'insieme~$A$ si ha~$x \,\Rel\, x$.
In simboli: $\forall x \in A: x \,\Rel\, x$.
\end{definizione}

\ovalbox{\risolvi \ref{ese:7.18}}

%===================================
\subsection{Proprietà antiriflessiva}

\begin{exrig}
 \begin{esempio}
Nell'insieme delle persone~$P = \{\text{Marco, Antonio, Carlo}\}$ è data la relazione~$\Rel$: ``essere più alto di''. Nessun elemento è in relazione con se stesso, infatti nessuno può essere più alto di se stesso.
 \end{esempio}
\end{exrig}

\begin{definizione}
Una relazione~$\Rel$ in un insieme~$A$ gode della \emph{proprietà antiriflessiva} quando nessun elemento è in relazione con se stesso,
ossia per nessun elemento~$x$ di~$A$ si ha~$x \,\Rel\, x$.
In simboli: $\nexists x \in A:\, x \,\Rel\, x$.
\end{definizione}

\ovalbox{\risolvi \ref{ese:7.19}}
\subsection{Proprietà simmetrica}

\begin{exrig}
 \begin{esempio}
Nella relazione~$\Rel$: ``essere concorde con'' nell'insieme dei numeri~$A = \{-1\text{, }+3\text{, }-7\text{, }+5\text{, }-2\text{, }+4\text{, }+10\}$ si può osservare che se un elemento dell'insieme è in relazione con un altro allora anche quest'ultimo è in relazione con il primo:
$-1 \,\Rel\, -7$, ma anche~$-7 \,\Rel\, -1$; $+3 \,\Rel\, +5$, ma anche~$+5 \,\Rel\, +3$ e così via.
 \end{esempio}
\end{exrig}

%\begin{figure}[ht]
%\begin{minipage}[t]{.45\textwidth}
% \centering
% \input{./lbr/chapB/fig003_rel.pgf}
% \caption{Proprietà antiriflessiva.}\label{fig:B.3}
%\end{minipage}\hfil
%\begin{minipage}[t]{.45\textwidth}
% \centering
% \input{./lbr/chapB/fig004_rel.pgf}
% \caption{Proprietà simmetrica.}\label{fig:B.4}
%\end{minipage}
%\end{figure}

\begin{definizione}
Una relazione~$\Rel$ in un insieme~$A$ gode della \emph{proprietà simmetrica} quando risultano vere le due proposizioni
che si ottengono scambiando soggetto e complemento; ossia per qualunque~$x$ e~$y$ appartenenti all'insieme~$A$ se vale~$x \,\Rel\, y$ allora vale anche~$y \,\Rel\, x$.
In simboli: $\forall x, y \in A:\, x \,\Rel\, y \rightarrow \, y \,\Rel\, x$
\end{definizione}

\ovalbox{\risolvi \ref{ese:7.20}}

%===================================
\subsection{Proprietà antisimmetrica}

\begin{exrig}
 \begin{esempio}

Il diagramma di Venn nella figura~\ref{fig:7.3} rappresenta un insieme~$U$ e alcuni suoi sottoinsiemi.

Consideriamo ora l'insieme di insiemi~$S = \{U\text{,~}A\text{,~}B\text{,~}C\text{,~}D\text{,~}E\text{,~}F\}$ e la relazione~$\Rel$: ``essere sottoinsieme proprio di''.
Completa il grafo della relazione.

Certamente nel completare il grafo (figura~\ref{fig:7.4}) non avrai usato archi poiché è evidente che le proposizioni ``$B$ è sottoinsieme proprio di~$C$'' e ``$C$
è sottoinsieme proprio di~$B$'' non possono essere entrambe vere. Anzi, la verità della prima implica necessariamente la falsità della seconda.
 \end{esempio}
\end{exrig}

\begin{figure}[hb]
\begin{minipage}[b]{.45\textwidth}
 \centering
 \input{./lbr/chap07/fig005_rel.pgf}
 \caption{L'insieme~$U$.}\label{fig:7.3}
\end{minipage}\hfil
\begin{minipage}[b]{.45\textwidth}
 \centering
 \input{./lbr/chap07/fig006_rel.pgf}
 \caption{L'insieme~$S$.}\label{fig:7.4}
\end{minipage}
\end{figure}

\begin{definizione}
Una relazione~$\Rel$ in un insieme~$A$ gode della \emph{proprietà antisimmetrica} quando non possono essere vere
contemporaneamente le proposizioni che si ottengono scambiando il soggetto con il complemento, se soggetto e complemento sono diversi
tra loro; ossia per qualunque~$x$ e~$y$ dell'insieme~$A$ se~$x \neq y$ e se~$x \,\Rel\, y$ non è vero che~$y \,\Rel\, x$.
\end{definizione}

\ovalbox{\risolvi \ref{ese:7.21}}

%===================================
\subsection{Proprietà transitiva}
%
%\begin{exrig}
% \begin{esempio}
%
%Nel grafo di figura~\ref{fig:B.7} è rappresentata una relazione~$\Rel$ introdotta in un insieme~$T$. Dall'analisi della situazione rappresentata possiamo
%affermare che dalla verità di $a \,\Rel\, b$ e~$b \,\Rel\, c$ segue la verità di~$a \,\Rel\, c$. Analizzando gli altri elementi, 
%possiamo osservare che essendo vere $e \,\Rel\, f$ e~$f\, \Rel\, g$ è vera anche~$e \,\Rel\, g$;
%inoltre si ha che essendo vera $n \,\Rel\, m$ e~$m \,\Rel\, t$ è vera anche~$n \,\Rel\, t$.
% \end{esempio}
%\end{exrig}
%
%\begin{figure}[ht]
%\begin{minipage}[b]{.45\textwidth}
% \centering
% \input{./lbr/chapB/fig007_rel.pgf}
% \caption{L'insieme~$T$.}\label{fig:B.7}
%\end{minipage}\hfil
%\begin{minipage}[b]{.45\textwidth}
% \centering
% \input{./lbr/chapB/fig008_rel.pgf}
% \caption{L'insieme~$B$.}\label{fig:B.8}
%\end{minipage}
%\end{figure}

\begin{definizione}
Una relazione~$\Rel$ in un insieme~$A$ gode della \emph{proprietà transitiva} quando se~$a \,\Rel\, b$ e~$b \,\Rel\, c$
allora risulta anche~$a \,\Rel\, c$, con~$a$, $b$, $c$ elementi qualsiasi dell'insieme~$A$.
In simboli $\forall a, b, c \in A:\, a\, \Rel\, b\, \wedge\, b\,\Rel\,c\,\rightarrow\,a\,\Rel\,c$.
\end{definizione}

\ovalbox{\risolvii \ref{ese:7.22}, \ref{ese:7.23}, \ref{ese:7.24}, \ref{ese:7.25}}
\pagebreak
%===================================
\section{Relazioni di equivalenza}

\begin{exrig}
 \begin{esempio}

Completa la seguente tabella segnando le proprietà di cui gode (R=riflessiva, S=simmetrica, T=transitiva, AS=antisimmetrica, AR=antiriflessiva) ciascuna relazione.

\begin{center}
\begin{tabular}{lcc}
\toprule
Relazione & Insieme & Proprietà \\
\midrule
Avere lo stesso perimetro & poligoni & [R] \, [S]\, [T]\, [AS]\, [AR] \\
Essere fratello di & persone & [R] \, [S]\, [T]\, [AS]\, [AR] \\
Essere figlio di & persone & [R] \, [S]\, [T]\, [AS]\, [AR] \\
Essere più alto di & persone & [R] \, [S]\, [T]\, [AS]\, [AR] \\
Avere gli angoli rispettivamente congruenti & triangoli & [R] \, [S]\, [T]\, [AS]\, [AR] \\
Iniziare con la stessa lettera & parole & [R] \, [S]\, [T]\, [AS]\, [AR] \\
Giocare nella stessa squadra & calciatori & [R] \, [S]\, [T]\, [AS]\, [AR] \\
$a \,\Rel\, b$ se e solo se~$a$ è nato nello stesso anno di $b$ & persone & [R] \, [S]\, [T]\, [AS]\, [AR] \\
$x \,\Rel\, y$ se e solo se~$x$ ha lo stesso numero di cifre di $y$ & $\insN \times \insN $ &[R] \, [S]\, [T]\, [AS]\, [AR] \\
$x \,\Rel\, y$ se e solo se~$x$ ha la stessa ultima cifra di $y$ & $\insN \times \insN $ &[R] \, [S]\, [T]\, [AS]\, [AR] \\
%$x \,\Rel\, y$ se e solo se la somma delle cifre di~$x$ è maggiore quella di~$y$ & $\insN \times \insN $ &\boxR\quad\boxS\quad\boxT\quad\boxAS \\
$x \,\Rel\, y$ se e solo se~$x$ è multiplo di~$y$ & $\insN \times \insN $ &[R] \, [S]\, [T]\, [AS]\, [AR] \\
$x \,\Rel\, y$ se e solo se~$x+y$ è pari & $\insN \times \insN $ &[R] \, [S]\, [T]\, [AS]\, [AR] \\
Avere lo stesso segno zodiacale & persone & [R] \, [S]\, [T]\, [AS]\, [AR] \\
$(a;b) \,\Rel\, (x;y)$ se e solo se~$a+b=x+y$ & ~$\insN \times \insN$ & [R] \, [S]\, [T]\, [AS]\, [AR] \\
\bottomrule
\end{tabular}
\end{center}

\emph{Svolgimento}: La prima relazione gode delle tre proprietà riflessiva, simmetrica e transitiva; infatti:

\begin{itemize*}
\item ``il poligono~$P$ ha lo stesso perimetro di se stesso'' è vera per qualunque poligono (\emph{proprietà riflessiva});
\item ``il poligono~$P_1$ ha lo stesso perimetro del poligono~$P_2$'' implica la verità della proposizione ``il
poligono~$P_2$ ha lo stesso perimetro di~$P_1$'', qualunque siano i due poligoni~$P_1$ e~$P_2$ (\emph{proprietà
simmetrica});
\item se ``il poligono~$P_1$ ha lo stesso perimetro di~$P_2$'' e ``$P_2$ ha lo stesso perimetro di~$P_3$'' allora si ha anche che ``$P_1$ ha lo stesso
perimetro di~$P_3$'', qualunque siano i poligoni~$P_1$, $P_2$, $P_3$ (\emph{proprietà transitiva}).
\end{itemize*}

Verifica tu se anche le altre relazioni godono delle tre proprietà riflessiva, simmetrica, transitiva, come
``essere fratello di'', ``avere gli angoli rispettivamente uguali'', ``iniziare con la stessa lettera''.
 \end{esempio}
\end{exrig}

\begin{definizione}
Chiamiamo \emph{relazione d'equivalenza} una relazione che gode delle tre proprietà riflessiva, simmetrica e transitiva.
\end{definizione}

\ovalbox{\risolvi \ref{ese:7.26}}

\pagebreak

Premettiamo le definizioni:

\begin{definizione}
Dato un insieme $A$, suddividiamolo in un numero di sottoinsiemi~$A_1$, $A_2$, \ldots, $A_n$, detti \emph{classi}, tali che
\begin{enumeratea}
\item nessun sottoinsieme è vuoto;
\item a due a due sono disgiunti (non hanno tra loro alcun elemento in comune);
\item la loro unione è l'insieme~$A$.
\end{enumeratea}
L'insieme $P(A) = \{A_1$, $A_2$, \ldots, $A_n\}$ è detto \emph{partizione} di~$A$.
\end{definizione}

\begin{definizione}
In un insieme~$A$ dove sia stata definita una relazione d'equivalenza $\Rel$, si chiama \emph{classe d'equivalenza} ogni sottoinsieme di~$A$ contenente tutti e soli gli elementi
tra loro in relazione secondo $\Rel$.
\end{definizione}

Si viene così a determinare una partizione dell'insieme~$A$ in classi d'equivalenza, ognuna delle quali è indicata racchiudendo tra parentesi quadrate
uno degli elementi della classe considerata.

\begin{definizione}
Si chiama \emph{insieme quoziente} di un insieme~$A$ rispetto alla relazione di equivalenza~$\Rel$ in esso definita,
l'insieme i cui elementi sono le classi d'equivalenza determinate dalla relazione~$\Rel$, ovvero la partizione di~$A$ definita da~$\Rel$. L'insieme quoziente si indica con il simbolo~$A/\Rel$.
\end{definizione}

\osservazione Ogni volta che si ha una relazione d'equivalenza~$\Rel$ in un insieme~$A$, possiamo stabilire la seguente
catena di passaggi:
 \[\text{insieme }A\rightarrow\Rel\rightarrow\text{ partizione }\wp(A)=\text{ insieme quoziente }A/\Rel.\]

\begin{exrig}
 \begin{esempio}
Nell'insieme~$A = \{x \in \insN \mid 0\le x\le 20\}$ è data la relazione $\Rel=$ ``avere lo stesso resto nella divisione per~5''.
Vediamo alcuni numeri che sono in relazione:
\begin{multicols}{2}
0 : 5 \, quoziente~0 \, resto~0;

1 : 5 \, quoziente~0 \, resto~1;

2 : 5 \, quoziente~0 \, resto~2;

3 : 5 \, quoziente~0 \, resto~3;

4 : 5 \, quoziente~0 \, resto~4;

5 : 5 \, quoziente~1 \, resto~0;

6 : 5 \, quoziente~1 \, resto~1;

7 : 5 \, quoziente~1 \, resto~2;

8 : 5 \, quoziente~1 \, resto~3;

9 : 5 \, quoziente~1 \, resto~4;

10 : 5 \, quoziente~2 \, resto~0;

11 : 5 \, quoziente~2 \, resto~1;

12 : 5 \, quoziente~2 \, resto~2;

\ldots \ldots
\end{multicols}
Sono quindi in relazione:
\begin{itemize*}
\item $0 \, \Rel \,5$, $5 \, \Rel \,10$, $10 \, \Rel \,15$,  $15 \, \Rel \,20 \ldots$;
\item $1 \, \Rel \,6$, $6 \, \Rel \,11$, $11 \, \Rel \,16$,  $21 \, \Rel \,26 \ldots$;
\item $2 \, \Rel \,7$, $7 \, \Rel \,12$, $12 \, \Rel \,17$,  $27 \, \Rel \,32 \ldots$
\item $\ldots\ldots\ldots\ldots\ldots$
\end{itemize*}

Vediamo quali proprietà verifica la relazione~$\Rel$:
\begin{itemize*}
\item \emph{Riflessiva}: perché ogni numero ha lo stesso resto di se stesso nella divisione per~5. $0 \, \Rel 0$, $1 \, \Rel 1$, $2 \, \Rel 2$, \ldots;
\item \emph{Simmetrica}: Se $m \,\Rel \, n $ significa che ${resto}(m:5)={resto}(n:5)$ allora vale anche ${resto}(n:5)={resto}(m:5)$ e quindi $n \,\Rel \, m$;
\item \emph{Transitiva}: Se $m \,\Rel \, n $ e $n \,\Rel \, p $ significa che ${resto}(m:5)={resto}(n:5)={resto}(p:5)$ e quindi $m \,\Rel \, p$.
\end{itemize*}
Possiamo concludere che $\Rel$ è una relazione di equivalenza.

Rappresentiamo la partizione dell'insieme~$A$ secondo la relazione~$\Rel$.
\begin{center}
 \input{./lbr/chap07/fig033_part.pgf}
\end{center}
Le classi di equivalenza sono:
\begin{itemize*}
\item $ [0]=\{0\text{, }5\text{, }10\text{, }15\text{, }20\} $;
\item $ [1]=\{1\text{, }6\text{, }11\text{, }16\} $;
\item $ [2]=\{2\text{, }7\text{, }12\text{, }17\} $;
\item $ [3]=\{3\text{, }8\text{, }13\text{, }18\} $;
\item $ [4]=\{4\text{, }9\text{, }14\text{, }19\} $.
\end{itemize*}
 \end{esempio}
\end{exrig}

\ovalbox{\risolvii \ref{ese:7.27}, \ref{ese:7.28}, \ref{ese:7.29}, \ref{ese:7.30}, \ref{ese:7.31}\ref{ese:7.32}, \ref{ese:7.33}, \ref{ese:7.34}, \ref{ese:7.35}, \ref{ese:7.36}, \ref{ese:7.37}}

\section{Relazioni di ordine}

Nel linguaggio di ogni giorno avrai certamente spesso usato espressioni come ``devo mettere in ordine i miei
libri'' oppure ``qui non c'è ordine'' e altre espressioni simili.
Anche in matematica, fin dalla scuola elementare, hai imparato a ordinare gli elementi dell'insieme dei
numeri naturali: dati due numeri naturali hai imparato infatti a stabilire quale dei due è il maggiore.

\begin{definizione}
Una relazione~$\Rel$, introdotta in un insieme~$A$, si chiama \emph{relazione d'ordine} se è antisimmetrica e transitiva.
\end{definizione}

Riguardando le varie relazioni introdotte sin qui, possiamo stabilire che esistono relazioni d'ordine di vario tipo, schematizzate nel seguente diagramma:
\begin{center}
 \input{./lbr/chap07/fig012_alb.pgf}
\end{center}

Attraverso alcuni esempi, vogliamo chiarire le differenze tra i diversi tipi. A questo scopo introduciamo la seguente definizione.

\begin{definizione}
Data una relazione d'ordine~$\Rel$ definita in un insieme~$A$, due elementi distinti~$x$ e~$y$ sono \emph{confrontabili} se rispetto a~$\Rel$ si ha~$x \,\Rel\, y$ oppure~$y \,\Rel\, x$.
\end{definizione}

\begin{definizione}
Una relazione d'ordine si dice \emph{parziale} quando esistono almeno due elementi che non sono confrontabili.
\end{definizione}

\begin{definizione}
Una relazione d'ordine si dice \emph{totale} quando due qualsiasi elementi possono essere messi in relazione, cioè sono confrontabili.
\end{definizione}

\begin{definizione}
Una relazione d'ordine è detta \emph{in senso largo} quando essa gode della proprietà riflessiva.
\end{definizione}

\begin{definizione}
Una relazione d'ordine è detta \emph{in senso stretto} quando essa gode della proprietà antiriflessiva.
\end{definizione}

\begin{center}
 \input{./lbr/chap07/fig013_alb.pgf}
\end{center}

\begin{exrig}
 \begin{esempio}
Nell'insieme degli alunni della tua classe considera la relazione $A \, \Rel \, B$ se il numero di lettere del nome di A è minore del numero di lettere del nome di B.
Verifichiamo le proprietà della relazione:
\begin{enumerate*}
\item \emph{Antiriflessiva}: perché ogni alunno non può avere un nome con meno lettere del suo nome;
\item \emph{Antisimmetrica}: se A ha il nome più corto del nome di B, non può accadere l'inverso e cioè che anche B abbia il nome più corto del nome di A;
\item \emph{Transitiva}: perché se A ha il nome più corto di~B e B ha il nome più corto di C allora anche $A \, \Rel \, C$.
\end{enumerate*}
Si tratta quindi di una \emph{relazione d'ordine parziale in senso stretto}. É parziale perché ci possono essere due alunni che avendo il nome con lo stesso numero di lettere non sono confrontabili nella relazione considerata.
 \end{esempio}
\end{exrig}

\ovalbox{\risolvii \ref{ese:7.38}, \ref{ese:7.39}, \ref{ese:7.40}, \ref{ese:7.41}, \ref{ese:7.42}, \ref{ese:7.43}}

\section{Relazioni tra due insiemi diversi}

Nei paragrafi precedenti abbiamo analizzato relazioni con predicato binario che si riferisce a due elementi dello stesso insieme, consideriamo ora relazioni con predicato binario in cui soggetto e complemento appartengono a due insiemi diversi.

\begin{definizione}
Si chiama \emph{relazione} $\Rel$ \emph{fra due insiemi}~$A$ e~$B$, il predicato binario avente come soggetto un elemento di~$A$ e come complemento un elemento di~$B$.
Essa definisce un sottoinsieme~$G_\Rel$ del prodotto cartesiano~$A \times B$, costituito dalle coppie ordinate di elementi corrispondenti:
\[ G_\Rel=\{(a;b)\in A \times B \mid  a \,\Rel\, b \}.\]
\end{definizione}

\begin{definizione}
Si chiama \emph{dominio} $\Dom$ di una relazione l'insieme~$A$ in cui si trova il soggetto della proposizione vera costruita con il predicato~$\Rel$ e \emph{codominio}~$\Cod$
l'insieme~$B$ degli elementi che costituiscono il complemento della stessa proposizione.
\end{definizione}

\begin{definizione}
Definita una relazione~$\Rel:A \rightarrow B$, nella coppia~$(a;b)$ di elementi corrispondenti, $b$ si chiama \emph{immagine di}~$a$ nella relazione~$\Rel$.
L'insieme delle immagini degli elementi del dominio $\Dom$ è un sottoinsieme del codominio $\Cod$ chiamato \emph{insieme immagine} e Verrà indicato con~$\IM$. Quindi~$\IM \subseteq\Cod$.
\end{definizione}

\begin{definizione}
Chiamiamo \emph{insieme di definizione} della relazione $\Rel$, indicato con~$\ID$, il sottoinsieme del dominio $\Dom$ i cui elementi hanno effettivamente un corrispondente nel codominio $\Cod$.
\end{definizione}

\begin{exrig}
\begin{esempio}
Consideriamo gli insiemi~$A= \{$Parigi, Roma, Atene, Firenze, Barcellona$\}$ e~$B= \{$Italia, Francia, Grecia, Spagna$\}$.

Il predicato binario~$\Rel$: ``essere la capitale di'', introdotto nell'insieme~$A \times B$, determina il sottoinsieme~$G_\Rel$ i cui elementi sono le coppie (Parigi; Francia),
(Roma; Italia), (Atene; Grecia). Il dominio della corrispondenza è~$\Dom= \{$Parigi, Roma, Atene, Firenze, Barcellona$\}$, il codominio è~$\Cod= \{$Italia, Francia, Grecia, Spagna$\}$, $\ID=\{$Parigi, Roma, Atene$\}$ e~$\IM=$Italia, Francia, Grecia$\}$ (figura~\ref{fig:7.5} a pagina~\pageref{fig:7.5}).
\end{esempio}
\end{exrig}
\begin{figure}[htb]
 \centering\input{./lbr/chap07/fig004_diag.pgf}
 \caption{Relazione tra due insiemi.}\label{fig:7.5}
\end{figure}

\ovalbox{\risolvii \ref{ese:7.44}, \ref{ese:7.45}, \ref{ese:7.46}}

\subsection{Caratteristiche della relazione tra insiemi}
\begin{exrig}
\begin{esempio}
Tra gli insiemi~$D= \{$persone italiane viventi$\}$ e ~$C= \{$gli anni dal~1900 al~2012$\}$ consideriamo la relazione ``è nato nell'anno''.

Evidentemente ogni persona ha un determinato anno di nascita, ma più persone sono nate nello stesso anno.
Il grafico sagittale di questa relazione è del tipo rappresentato nella figura~\ref{fig:7.6}.

Questo tipo di relazione è detta di tipo \emph{molti a uno} perché più elementi di $D$ sono in relazione con lo stesso elemento di $C$.
\end{esempio}
\begin{figure}[hb]
 \centering\input{./lbr/chap07/fig005_diag.pgf}
 \caption{Relazione \emph{molti a uno}: più persone sono nate nello stesso anno.}\label{fig:7.6}
\end{figure}

\begin{esempio}
Analizziamo la relazione~$\Rel:R \rightarrow M$ ``essere bagnata/o da'' tra l'insieme delle regioni d'Italia $R$ e l'insieme dei mari $M$.

Alcune regioni non sono bagnate da alcun mare. Molte regioni sono bagnate dallo stesso mare, ma succede che alcune regioni siano bagnate da due mari.
Un mare bagna almeno una regione. Il grafico sagittale di questa corrispondenza è del tipo rappresentato nella
figura~\ref{fig:7.7}.

Si tratta di una relazione \emph{molti a molti} perché più regioni sono bagnate da uno stesso mare e più mari possono bagnare una stessa regione.
\begin{figure}[hb]
 \centering\input{./lbr/chap07/fig006_diag.pgf}
 \caption{Esempio di relazione di tipo \emph{molti a molti}.}\label{fig:7.7}
\end{figure}
\end{esempio}

 \begin{esempio}
Consideriamo la relazione~$\Rel$: ``essere la capitale di'' tra il dominio~$\Dom= \{$città d'Europa$\}$ e il codominio~$\Cod= \{$stati d'Europa$\}$. È evidente che non tutte le città sono capitali, mentre ogni stato ha la sua capitale; inoltre due città diverse non possono essere capitali dello stesso stato.
Il grafico sagittale di questa corrispondenza è del tipo rappresentato nella
figura~\ref{fig:7.8}.

Si tratta di una relazione \emph{uno a uno}.
\begin{figure}[bht]
 \centering\input{./lbr/chap07/fig007_diag.pgf}
 \caption{Esempio di relazione di tipo \emph{uno a uno}.}\label{fig:7.8}
\end{figure}
\end{esempio}

\begin{esempio}
Consideriamo, tra l'insieme~$\insN_0$ dei numeri naturali diversi da zero e l'insieme~$\insZ_0$ degli interi relativi diversi da zero, la relazione~$\Rel$: ``essere il valore assoluto di''.
Poiché due numeri opposti hanno lo stesso valore assoluto,
ogni elemento di~$\insN_0$ ha due immagini, per cui il grafico sagittale di questa corrispondenza è come nella figura~\ref{fig:7.9}.

Si tratta di una \emph{relazione uno a molti}.
\end{esempio}
\begin{figure}[hbt]
 \centering\input{./lbr/chap07/fig008_diag.pgf}
 \caption{Esempio di relazione di tipo \emph{uno a molti}.}\label{fig:7.9}
\end{figure}

\end{exrig}

\begin{definizione}
Le relazioni di tipo \emph{molti a uno} e \emph{uno a uno} sono dette \emph{univoche}; in esse ogni elemento dell'insieme di partenza ha una sola immagine nell'insieme di arrivo.
\end{definizione}
\begin{exrig}
\begin{esempio}
Consideriamo la relazione~$\Rel$ che associa ad ogni persona il suo codice fiscale: ogni persona ha il proprio codice fiscale, persone diverse hanno codice fiscale diverso.
Il grafico sagittale di questa relazione
è del tipo \emph{uno a uno}. È di questo tipo il grafico sagittale della relazione che associa ad ogni automobile la sua targa, ad ogni moto il suo numero di telaio,
ad ogni cittadino italiano maggiorenne il suo certificato elettorale, \ldots

In tutti questi casi la relazione è di tipo \emph{uno a uno}.
\end{esempio}
\end{exrig}
\ovalbox{\risolvii \ref{ese:7.47}, \ref{ese:7.48}, \ref{ese:7.49}, \ref{ese:7.50}}
\newpage
\input{./chap/07_esercizi.tex}
\cleardoublepage
